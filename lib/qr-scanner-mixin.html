<link rel="import" href="../bower_components/polymer/lib/utils/mixin.html">

<script type="module">
  import QrScanner from "./qr-scanner.min.js";
    window.QrScanner = QrScanner;
</script>
<script>
window.Mixins = window.Mixins || {};

  /**
   * 
   * @polymerMixin
   * @mixinFunction
   */
  Mixins.QrScannerMixin = Polymer.dedupingMixin((base) => {
    /**
     * @polymerMixinClass
     * @implements { }
     */

    class QrScannerMixin extends base {
      static get properties() {
        return {
          workerPath: {
            type: String,
            value: 'lib/qr-scanner-worker.min.js',
            observer: '_setWorkerPath'
          }
        };
      }
      /**
        * Instance of the element is created/upgraded. Useful for initializing
        * state, set up event listeners, create shadow dom.
        * @constructor
        */
      constructor() {
        super();
      
        this.QrScanner = window.QrScanner;
      
      }
      
      _setWorkerPath(path) {
        if (!path) return false;
        this.QrScanner.WORKER_PATH = path;
        return true;
      }
    }
    return QrScannerMixin;
  });

</script>